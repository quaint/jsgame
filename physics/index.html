<!DOCTYPE html>
<html>

<head>
    <script src="matter.js"></script>
    <script src="pixi.js"></script>
</head>

<body>
</body>

<script>
    var Engine = Matter.Engine,
            World = Matter.World,
            MouseConstraint = Matter.MouseConstraint,
            Body = Matter.Body,
            Bodies = Matter.Bodies;
    var engine = Engine.create({
        render: {
            element: document.body,
            controller: Matter.RenderPixi,
            options: {
                width: 800,
                height: 600,
                background: '#fafafa',
                wireframeBackground: '#222',
                hasBounds: false,
                enabled: true,
                wireframes: false,
                showSleeping: true,
                showDebug: true,
                showBroadphase: true,
                showBounds: true,
                showVelocity: true,
                showCollisions: true,
                showAxes: true,
                showPositions: true,
                showAngleIndicator: true,
                showIds: true,
                showShadows: true
            }
        }
    });
    var boxA = Bodies.rectangle(400, 200, 80, 80, {frictionAir: 0.2});
    var boxB = Bodies.rectangle(550, 450, 80, 80, {frictionAir: 0.2});
    var ground1 = Bodies.rectangle(400, 610, 800, 60, {isStatic: true});
    var ground2 = Bodies.rectangle(400, -10, 800, 60, {isStatic: true});
    var ground3 = Bodies.rectangle(0, 300, 60, 570, {isStatic: true});
    var ground4 = Bodies.rectangle(800, 300, 60, 570, {isStatic: true});
    engine.world.gravity.y = 0;
    World.add(engine.world, [boxA, boxB, ground1, ground2, ground3, ground4]);

    var mouseConstraint = MouseConstraint.create(engine);
    World.add(engine.world, mouseConstraint);

    Engine.run(engine);

    document.onkeydown = function (event) {
        switch (event.keyCode) {
            case 37:
                Body.setVelocity(boxA, {x: -10, y: boxA.velocity.y});
                break;
            case 39:
                Body.setVelocity(boxA, {x: 10, y: boxA.velocity.y});
                break;
            case 38:
                Body.setVelocity(boxA, {x: boxA.velocity.x, y: -10});
                break;
            case 40:
                Body.setVelocity(boxA, {x: boxA.velocity.x, y: 10});
                break;
            default:
                return true;
        }
    };

    document.onkeyup = function (event) {
        Body.setVelocity(boxA, {x: 0, y: 0});
    };


    //    Body.applyForce(boxA, boxA.position, {x: 0.1, y: 0.1});

</script>

</html>
